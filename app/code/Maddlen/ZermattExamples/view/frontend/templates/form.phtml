<?php
/**
 * @author HervÃ© GuÃ©tin <www.linkedin.com/in/herveguetin>
 */

use Magento\Framework\View\Element\Template; ?>
<?php
/** @var Template $block */
preg_match('/value="([^"]+)"/', $block->getBlockHtml('formkey'), $formKey);
$xData = [
    'name' => '',
    'email' => '',
    'form_key' => $formKey[1]
]
?>
<form
    x-ref="form"
    action="<?= $block->getUrl('zermatt/examples/form') ?>"
    x-data='<?= json_encode($xData) ?>'
>
    <div x-data="zermatt_form" x-cloak>
        <?php zermatt_component('Maddlen_Zermatt::components/form/text.phtml', ['label' => __('Name'), 'id' => 'name', 'name' => 'name']) ?>
        <?php zermatt_component('Maddlen_Zermatt::components/form/error.phtml', ['target' => 'name']) ?>

        <?php zermatt_component('Maddlen_Zermatt::components/form/text.phtml', ['label' => __('Email'), 'id' => 'email', 'name' => 'email']) ?>
        <?php zermatt_component('Maddlen_Zermatt::components/form/error.phtml', ['target' => 'email']) ?>

        <?php zermatt_component('Maddlen_Zermatt::components/form/button.phtml', ['label' => __('Submit')]) ?>
    </div>
</form>
